<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  <title>HNY 2022</title>
  <link rel = "icon" href = "https://www.happynewyearall.com/wp-content/uploads/2021/10/Happy-New-Year-2022-Wallpapers.jpg" 
        type = "image/x-icon">

        <meta property="og:image" content="https://previews.123rf.com/images/snapgalleria/snapgalleria1402/snapgalleria140200036/25662754-easy-to-edit-vector-illustration-of-merry-christmas-card.jpg" />

<meta property="og:description" content="Merry Christmas and Happy New Year" />


<meta property="og:title" content="HNY 2022" />
</head>
<body>
    <div id="app">
    <v-app class="fill-height">
      <v-main class="fill-height">
        <v-container v-if="covid" class="">
          <v-card color="white">
            <v-card-text><h2>ประเทศไทย</h2></v-card-text>
          </v-card>
          <v-row class="mt-2">
            <v-col cols="12" sm="6" class="d-none d-sm-flex">

              <!-- test -->



              <!-- test -->
            </v-col>
            <v-col cols="12" sm="6">
              <v-row>
                <v-col cols="6">
                  <v-card>
                    <v-card-text>
                      <h3>คนติดเชื้อเพิ่ม</h3>
                      <br>
                      <b class="red--text">[[ covid.todayCases ]]</b>
                    </v-card-text>
                  </v-card>
                </v-col>
                <v-col cols="6">
                  
                  <v-card>
                    <v-card-text>
                      <h3>คนเสียชีวิตเพิ่ม</h3>
                      <br>
                      <b class="red--text">[[ covid.todayDeaths ]]</b>
                    </v-card-text>
                  </v-card>
    
                  </v-col>
              </v-row>
              <v-card class="mt-3">
                <v-card-text>
                  <h3>รักษาหาย</h3>
                  <br>
                  <b class="green--text">[[ covid.todayRecovered ]]</b>
                </v-card-text>
              </v-card>
              <v-card class="mt-3">
                <v-data-table
                  :headers="headers"
                  :items="provinces"
                  :items-per-page="5"
                  class="elevation-1"
                  :sort-by="['new_case_excludeabroad']"
                  :sort-desc="[true]"
                ></v-data-table>
              </v-card>
              <div class="white--text text-right" style="font-size: 12px;">*ข้อมูล ณ วันที่ [[ covid.UpdateDate ]]</div>
            </v-col>
            
          </v-row>
        
        </v-container>
        
      </v-main>
    </v-app>
  </div>
  <script>
      
  </script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>

  <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
  <script>
    new Vue({
      el: '#app',
      vuetify: new Vuetify({
        mode: 'production'
      }),
      delimiters: ["[[", "]]"],
      data:()=>({
              name:'champ',
              covid:null,
              provinces: [],
              headers: [
          {
            text: 'จังหวัด',
            align: 'start',
            sortable: false,
            value: 'province',
          },
          { text: 'ติดเชื้อใหม่', value: 'new_case_excludeabroad' },
          { text: 'เสียชีวิตเพิ่ม', value: 'new_death' },
          { text: 'ติดเชื้อรวม', value: 'total_case' },
        ]
          }),
          beforeCreate(){
            fetch("https://static.easysunday.com/covid-19/getTodayCases.json?fbclid=IwAR0mw23GJSSgiZIxdGBhta1ybW1UQZoeT93ZHsatVzNTvw1xnTngzgV4mhw")
        .then(r => r.json())
        .then(json => {
          console.log(json);
          this.covid = json
        });

        fetch("https://covid19.ddc.moph.go.th/api/Cases/today-cases-by-provinces")
        .then(r => r.json())
        .then(json => {
          console.log(json);
          this.provinces = json
        });


          }
    })
  </script>

  <style>
      @import url('https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
      *{
        font-family: 'Kanit', sans-serif;
          text-align: center;
      }
      .v-main {
        background-color:hsl(0, 100%, 20%);
      }

    
  </style>

</body>
</html>